<!doctype html>
<html lang="ru">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{{ title ?? 'Домашний Любимчик' }}</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        :root{
            --brand-1: #22c55e;   /* зелёный */
            --brand-2: #06b6d4;   /* бирюза */
            --brand-3: #a78bfa;   /* сирень */
            --ink: #0f172a;
            --muted: #64748b;
            --card: rgba(255,255,255,.86);
            --border: rgba(15,23,42,.10);
            --shadow: 0 14px 40px rgba(2,6,23,.08);
        }

        html, body { height: 100%; }
        body{
            color: var(--ink);
            background:
                    radial-gradient(900px 520px at 12% 8%, rgba(34,197,94,.18), transparent 55%),
                    radial-gradient(900px 520px at 92% 12%, rgba(6,182,212,.16), transparent 55%),
                    radial-gradient(900px 520px at 75% 92%, rgba(167,139,250,.14), transparent 55%),
                    linear-gradient(180deg, #f8fafc, #f3f6fb 60%, #f8fafc);
        }

        /* чуть “премиум” типографика без внешних шрифтов */
        .container{ max-width: 1120px; }
        .muted { color: var(--muted) !important; }

        /* шапка “glass” */
        .navbar{
            background: rgba(255,255,255,.70) !important;
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border) !important;
        }
        .navbar-brand{
            letter-spacing: .2px;
        }

        /* фирменный бейдж/лого */
        .brand-badge{
            display:inline-flex;
            align-items:center;
            gap:.55rem;
            padding:.45rem .7rem;
            border-radius: 999px;
            background: linear-gradient(90deg, rgba(34,197,94,.16), rgba(6,182,212,.14), rgba(167,139,250,.14));
            border: 1px solid rgba(34,197,94,.18);
        }
        .brand-dot{
            width: 10px; height: 10px; border-radius: 999px;
            background: linear-gradient(135deg, var(--brand-1), var(--brand-2));
            box-shadow: 0 0 0 4px rgba(34,197,94,.12);
        }

        /* карточки/тени единообразно на всех страницах */
        .app-card{
            border: 1px solid var(--border) !important;
            border-radius: 18px !important;
            background: var(--card) !important;
        }
        .app-shadow{ box-shadow: var(--shadow); }

        /* кнопки */
        .btn{
            border-radius: 14px;
        }
        .btn-primary{
            border: 0;
            background: linear-gradient(135deg, var(--brand-2), #3b82f6);
            box-shadow: 0 10px 22px rgba(59,130,246,.18);
        }
        .btn-primary:hover{
            filter: brightness(.98);
            box-shadow: 0 14px 28px rgba(59,130,246,.22);
        }

        /* зелёная кнопка “редактировать” — твой стандарт */
        .btn-edit{
            border: 0 !important;
            background: linear-gradient(135deg, var(--brand-1), #16a34a) !important;
            box-shadow: 0 10px 22px rgba(34,197,94,.18);
        }
        .btn-edit:hover{
            filter: brightness(.98);
            box-shadow: 0 14px 28px rgba(34,197,94,.22);
        }

        /* формы */
        .form-control, .form-select{
            border-radius: 14px;
            border-color: rgba(15,23,42,.12);
        }
        .form-control:focus, .form-select:focus{
            border-color: rgba(6,182,212,.45);
            box-shadow: 0 0 0 .25rem rgba(6,182,212,.12);
        }

        /* таблицы/списки выглядят “как приложение” */
        .table{
            --bs-table-bg: transparent;
        }
        .table thead th{
            color: rgba(15,23,42,.78);
            font-weight: 700;
            border-bottom-color: rgba(15,23,42,.10) !important;
        }
        .table tbody tr{
            border-color: rgba(15,23,42,.08);
        }
        .list-group-item{
            background: transparent;
            border-color: rgba(15,23,42,.08);
        }

        /* мелкие “карточки” внутри карточек (как на главной) */
        a.text-decoration-none .app-card{
            transition: transform .12s ease, box-shadow .12s ease;
        }
        a.text-decoration-none .app-card:hover{
            transform: translateY(-2px);
            box-shadow: 0 18px 46px rgba(2,6,23,.10);
        }

        /* блок “kv” (карточка клиента/питомца) */
        .kv { font-size: 1.05rem; }
        .kv .label { color: var(--muted); font-size: .92rem; }
        .kv .value { font-weight: 650; }

        /* алерты */
        .alert{
            border-radius: 16px;
            border: 1px solid rgba(15,23,42,.10);
        }
    </style>
</head>

<body>
<nav class="navbar navbar-expand-lg">
    <div class="container py-2">
        <a class="navbar-brand fw-bold d-flex align-items-center gap-2" href="/">
            <span class="brand-badge">
                <span class="brand-dot"></span>
                <span>Домашний Любимчик</span>
            </span>
        </a>

        <button class="navbar-toggler" type="button"
                data-bs-toggle="collapse"
                data-bs-target="#nav"
                aria-controls="nav"
                aria-expanded="false"
                aria-label="Меню">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div id="nav" class="collapse navbar-collapse">
            <ul class="navbar-nav ms-auto gap-1">
                <li class="nav-item"><a class="nav-link" href="/clients">Клиенты</a></li>
                <li class="nav-item"><a class="nav-link" href="/pets">Питомцы</a></li>
                <li class="nav-item"><a class="nav-link" href="/visits/journal">Журнал визитов</a></li>
            </ul>
        </div>
    </div>
</nav>

<main class="container my-4">
    {% if flash_success is defined and flash_success %}
        <div class="alert alert-success">{{ flash_success }}</div>
    {% endif %}
    {% if flash_error is defined and flash_error %}
        <div class="alert alert-danger">{{ flash_error }}</div>
    {% endif %}

    {% block content %}{% endblock %}
</main>

<footer class="container pb-4">
    <div class="text-center muted small">
        Ветеринарная клиника «Домашний Любимчик» • {{ "now"|date("Y") }}
    </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
